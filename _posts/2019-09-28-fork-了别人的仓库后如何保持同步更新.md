---
layout: post
title:  "fork 了别人的仓库后如何保持同步更新"
description: fork 了别人的仓库后如何保持同步更新.
date:   2019-09-28 21:03:36 +0530
categories: Git
---
##### fork 了别人的仓库后，原作者又更新了仓库，如何将自己的代码和原仓库保持一致呢？

1 . Configuring a remote for a fork
 给 fork 配置一个 remote
 
 主要使用 git remote -v 查看远程状态。



```javascript
git remote -v
# origin  https://github.com/ruiyinchen/spark.git (fetch)
# origin  https://github.com/ruiyinchen/spark.git (push)
```

添加一个将被同步给 fork 远程的上游仓库


```

git remote add upstream https://github.com/apache/spark.git 


```



再次查看状态确认是否配置成功


````
git remote -v
origin  https://github.com/ruiyinchen/spark.git (fetch)
origin  https://github.com/ruiyinchen/spark.git (push)
upstream        https://github.com/apache/spark.git (fetch)
upstream        https://github.com/apache/spark.git (push)
```


2. Syncing a fork
从上游仓库 fetch 分支和提交点，传送到本地，并会被存储在一个本地分支 upstream/master

```
git fetch upstream
```


切换到本地主分支

```
git checkout master 

```

把 upstream/master 分支合并到本地 master 上，这样就完成了同步，并且不会丢掉本地修改的内容。  

```
 git merge upstream/master

```




如果想更新到 GitHub 的 fork 上，直接   



```
git push origin master 
```



就好了。

